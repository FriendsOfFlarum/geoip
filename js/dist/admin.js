(()=>{var e={175:e=>{"use strict";var t=/(?:https?:)?\/\/(?:(?:[\w-]+\.)+[\w/#@~.-]*)(?:\?(?:[\w&=.!,;$#%-]+)?)?/gi;e.exports=function(e){return(e||"").replace(t,(function(e){return'<a href="'+e+'">'+e+"</a>"}))}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r),o.d(r,{components:()=>y,extend:()=>_});const e=flarum.core.compat["admin/app"];var t=o.n(e);function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}const a=flarum.core.compat["common/components/Alert"];var s=o.n(a);const i=flarum.core.compat["admin/components/ExtensionPage"];var p=o.n(i);const l=flarum.core.compat["common/helpers/humanTime"];var c=o.n(l);const f=flarum.core.compat["common/utils/extractText"];var g=o.n(f);const d=flarum.core.compat["common/utils/ItemList"];var u=o.n(d),v=o(175),b=o.n(v),h=function(e){var o,r;function a(){return e.apply(this,arguments)||this}r=e,(o=a).prototype=Object.create(r.prototype),o.prototype.constructor=o,n(o,r);var i=a.prototype;return i.content=function(){var e=this.setting("fof-geoip.service")(),o=1e3*Number(t().data.settings["fof-geoip.services."+e+".last_error_time"]),r=t().data.settings["fof-geoip.services."+e+".error"];return m("div",{className:"GeoipSettingsPage"},m("div",{className:"container"},m("div",{className:"GeoipSettingsTabPage GeoipSettingsPage--settings"},m("div",{className:"Form"},r&&m(s(),{className:"Form-group",dismissable:!1},m("b",{style:{textTransform:"uppercase",marginRight:"5px"}},c()(new Date(o))),r),this.settingsItems().toArray(),m("div",{className:"Form-group"},this.submitButton())))))},i.settingsItems=function(){var e=new(u());return e.add("general",m("div",{className:"Section"},m("h3",null,t().translator.trans("fof-geoip.admin.settings.general.heading")),m("p",{className:"helpText"},t().translator.trans("fof-geoip.admin.settings.general.help")),this.generalItems().toArray())),e.add("providers",m("div",{className:"Section"},m("h3",null,t().translator.trans("fof-geoip.admin.settings.providers.heading")),m("p",{className:"helpText"},t().translator.trans("fof-geoip.admin.settings.providers.help")),this.providerItems().toArray())),e},i.generalItems=function(){var e=new(u());return e.add("show-flags",this.buildSettingComponent({setting:"fof-geoip.showFlag",type:"boolean",label:t().translator.trans("fof-geoip.admin.settings.show_flag_label"),help:t().translator.trans("fof-geoip.admin.settings.show_flag_help")})),e},i.providerItems=function(){var e=new(u()),o=this.setting("fof-geoip.service")();return e.add("service",this.buildSettingComponent({type:"select",setting:"fof-geoip.service",label:t().translator.trans("fof-geoip.admin.settings.service_label"),options:t().data["fof-geoip.services"].reduce((function(e,o){return e[o]=g()(t().translator.trans("fof-geoip.admin.settings.service_"+o+"_label")),e}),{}),required:!0,help:o&&m.trust(b()(g()(t().translator.trans("fof-geoip.admin.settings.service_"+o+"_description"))))})),["ipdata","ipapi-pro","ipsevenex"].includes(o)&&e.add("api-key",this.buildSettingComponent({type:"string",setting:"fof-geoip.services."+o+".access_key",label:t().translator.trans("fof-geoip.admin.settings.access_key_label"),required:!0})),"ipdata"===o&&e.add("ipdata-quota",this.buildSettingComponent({type:"number",setting:"fof-geoip.services.ipdata.quota",label:t().translator.trans("fof-geoip.admin.settings.quota_label"),min:1500,placeholder:1500})),e},a}(p()),y={GeoipSettingsPage:h};const _=[].concat([]);t().initializers.add("fof/geoip",(function(){t().extensionData.for("fof-geoip").registerPage(h).registerPermission({icon:"fas fa-globe",permission:"fof-geoip.canSeeCountry",label:t().translator.trans("fof-geoip.admin.permissions.see_country")},"moderate",50)}))})(),module.exports=r})();
//# sourceMappingURL=admin.js.map