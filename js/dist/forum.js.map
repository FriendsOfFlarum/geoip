{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@fof/geoip/./node_modules/@babel/runtime/regenerator/index.js","webpack://@fof/geoip/../src/index.js","webpack://@fof/geoip/./node_modules/external-load/index.js","webpack://@fof/geoip/./node_modules/regenerator-runtime/runtime.js","webpack://@fof/geoip/./node_modules/twemoji-basename/index.js","webpack://@fof/geoip/./src/forum/components/MapModal.tsx","webpack://@fof/geoip/./src/forum/components/ZipCodeMap.js","webpack://@fof/geoip/./src/forum/extend.ts","webpack://@fof/geoip/./src/forum/extenders/extendAccessTokensList.tsx","webpack://@fof/geoip/./src/forum/extenders/extendBanIPModal.js","webpack://@fof/geoip/./src/forum/extenders/extendPostMeta.js","webpack://@fof/geoip/./src/forum/helpers/ClipboardHelper.ts","webpack://@fof/geoip/./src/forum/helpers/IPDataHelper.tsx","webpack://@fof/geoip/./src/forum/index.ts","webpack://@fof/geoip/./src/forum/models/IPInfo.ts","webpack://@fof/geoip/./src/forum/util/copyToClipboard.ts","webpack://@fof/geoip/./src/forum/util/getFlagEmojiUrl.js","webpack://@fof/geoip/external root \"flarum.core.compat['common/Component']\"","webpack://@fof/geoip/external root \"flarum.core.compat['common/Model']\"","webpack://@fof/geoip/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/geoip/external root \"flarum.core.compat['common/components/LabelValue']\"","webpack://@fof/geoip/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@fof/geoip/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@fof/geoip/external root \"flarum.core.compat['common/components/PostMeta']\"","webpack://@fof/geoip/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@fof/geoip/external root \"flarum.core.compat['common/extend']\"","webpack://@fof/geoip/external root \"flarum.core.compat['common/extenders']\"","webpack://@fof/geoip/external root \"flarum.core.compat['common/models/Post']\"","webpack://@fof/geoip/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@fof/geoip/external root \"flarum.core.compat['forum/app']\"","webpack://@fof/geoip/external root \"flarum.core.compat['forum/components/AccessTokensList']\"","webpack://@fof/geoip/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@fof/geoip/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/geoip/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/geoip/webpack/bootstrap","webpack://@fof/geoip/webpack/runtime/compat get default export","webpack://@fof/geoip/webpack/runtime/define property getters","webpack://@fof/geoip/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/geoip/webpack/runtime/make namespace object","webpack://@fof/geoip/./forum.js"],"sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","// country code regex\nconst CC_REGEX = /^[a-z]{2}$/i;\n\n// offset between uppercase ascii and regional indicator symbols\nconst OFFSET = 127397;\n\n/**\n * convert country code to corresponding emoji flag\n * @param {string} cc - country code string\n * @returns {string} country code emoji\n */\nexport default function countryCodeEmoji(cc) {\n  if (!CC_REGEX.test(cc)) {\n    const type = typeof cc;\n    throw new TypeError(\n      `cc argument must be an ISO 3166-1 alpha-2 string, but got '${\n        type === 'string' ? cc : type\n      }' instead.`,\n    );\n  }\n\n  const chars = [...cc.toUpperCase()].map(c => c.charCodeAt() + OFFSET);\n  return String.fromCodePoint(...chars);\n}\n","/**\n * Simple resource loader based on David Walsh's tutorial\n * https://davidwalsh.name/javascript-loader\n * https://davidwalsh.name/javascript-functions\n */\nexport default (function() {\n    // Function which returns a function\n    function _load(tag) {\n        return function(url) {\n            // This promise will be used by Promise.all to determine success or failure\n            return new Promise(function(resolve, reject) {\n                var element = document.createElement(tag);\n                var parent = \"body\";\n                var attr = \"src\";\n\n                // Important success and error for the promise\n                element.onload = function() {\n                    resolve(url);\n                };\n                element.onerror = function() {\n                    reject(url);\n                };\n\n                // Need to set different attributes depending on tag type\n                switch (tag) {\n                    case \"script\":\n                        element.async = true;\n                        break;\n                    case \"link\":\n                        element.type = \"text/css\";\n                        element.rel = \"stylesheet\";\n                        attr = \"href\";\n                        parent = \"head\";\n                }\n\n                // Inject into document to kick off loading\n                element[attr] = url;\n                document[parent].appendChild(element);\n            });\n        };\n    }\n\n    return {\n        css: _load(\"link\"),\n        js: _load(\"script\"),\n        img: _load(\"img\")\n    };\n})();\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */\n/* https://github.com/twitter/twemoji/blob/gh-pages/LICENSE */\n\nmodule.exports = function (str) {\n  var r = []\n  var c = 0\n  var p = 0\n  var i = 0\n  var l = str.length\n\n  while (i < l) {\n    c = str.charCodeAt(i++)\n    if (p) {\n      r.push((0x10000 + ((p - 0xD800) << 10) + (c - 0xDC00)).toString(16))\n      p = 0\n    } else if (0xD800 <= c && c <= 0xDBFF) {\n      p = c\n    } else {\n      r.push(c.toString(16))\n    }\n  }\n\n  return r.join('-')\n}\n","import app from 'flarum/forum/app';\nimport Modal, { IInternalModalAttrs } from 'flarum/common/components/Modal';\nimport ZipCodeMap from './ZipCodeMap';\nimport IPInfo from '../models/IPInfo';\nimport { handleCopyIP } from '../helpers/ClipboardHelper';\nimport LabelValue from 'flarum/common/components/LabelValue';\nimport type Mithril from 'mithril';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\n\ninterface MapModalAttrs extends IInternalModalAttrs {\n  ipInfo?: IPInfo;\n  ipAddr: string;\n}\n\nexport default class MapModal extends Modal<MapModalAttrs> {\n  ipInfo: IPInfo | undefined;\n\n  oninit(vnode: Mithril.Vnode<MapModalAttrs, this>) {\n    super.oninit(vnode);\n    this.ipInfo = this.attrs.ipInfo;\n    if (this.ipInfo === undefined) {\n      this.loadIpInfo();\n    }\n  }\n\n  className() {\n    return 'MapModal Modal--medium';\n  }\n\n  loadIpInfo() {\n    app.store\n      .find<IPInfo>('ip_info', encodeURIComponent(this.attrs.ipAddr))\n      .then((ipInfo) => {\n        this.ipInfo = ipInfo;\n        m.redraw();\n      })\n      .catch((error) => {\n        console.error('Failed to load IP information from the store', error);\n      });\n  }\n\n  title() {\n    return app.translator.trans('fof-geoip.forum.map_modal.title');\n  }\n\n  content() {\n    const ipInfo = this.ipInfo;\n\n    if (!ipInfo) {\n      return (\n        <div className=\"Modal-body\">\n          <LoadingIndicator />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"IPDetails\">\n          <LabelValue\n            label={app.translator.trans('fof-geoip.forum.map_modal.ip_address')}\n            value={\n              <span className=\"clickable-ip\" onclick={handleCopyIP(this.attrs.ipAddr)}>\n                {this.attrs.ipAddr}\n              </span>\n            }\n          />\n          {ipInfo.countryCode() && <LabelValue label={app.translator.trans('fof-geoip.forum.map_modal.country_code')} value={ipInfo.countryCode()} />}\n          {ipInfo.zipCode() && <LabelValue label={app.translator.trans('fof-geoip.forum.map_modal.zip_code')} value={ipInfo.zipCode()} />}\n          {ipInfo.isp() && <LabelValue label={app.translator.trans('fof-geoip.forum.map_modal.isp')} value={ipInfo.isp()} />}\n          {ipInfo.organization() && (\n            <LabelValue label={app.translator.trans('fof-geoip.forum.map_modal.organization')} value={ipInfo.organization()} />\n          )}\n          {ipInfo.as() && <LabelValue label={app.translator.trans('fof-geoip.forum.map_modal.as')} value={ipInfo.as()} />}\n          {<LabelValue label={app.translator.trans('fof-geoip.forum.map_modal.mobile')} value={ipInfo.mobile() ? 'yes' : 'no'} />}\n          {ipInfo.threatLevel() && <LabelValue label={app.translator.trans('fof-geoip.forum.map_modal.threat_level')} value={ipInfo.threatLevel()} />}\n          {ipInfo.threatTypes().length > 0 && (\n            <LabelValue label={app.translator.trans('fof-geoip.forum.map_modal.threat_types')} value={ipInfo.threatTypes().join(', ')} />\n          )}\n          {ipInfo.error() && <LabelValue label={app.translator.trans('fof-geoip.forum.map_modal.error')} value={ipInfo.error()} />}\n        </div>\n        <hr />\n        <div id=\"mapContainer\">\n          <ZipCodeMap ipInfo={ipInfo} />\n        </div>\n      </div>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport load from 'external-load';\n\nlet addedResources = false;\nconst addResources = async () => {\n  if (addedResources) return;\n\n  await load.css('https://unpkg.com/leaflet@1.9.4/dist/leaflet.css');\n  await load.js('https://unpkg.com/leaflet@1.9.4/dist/leaflet.js');\n\n  addedResources = true;\n};\n\nexport default class ZipCodeMap extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.ipInfo = this.attrs.ipInfo;\n\n    this.data = null;\n\n    if (this.ipInfo.zipCode()) {\n      this.searchZip();\n    } else {\n      this.searchLatLon();\n    }\n  }\n\n  view() {\n    if (this.loading) {\n      return <LoadingIndicator size=\"medium\" />;\n    } else if (!this.data) {\n      return <div />;\n    }\n\n    return <div id=\"geoip-map\" oncreate={this.configMap.bind(this)} />;\n  }\n\n  searchZip() {\n    if (this.loading) return;\n\n    this.loading = true;\n\n    return addResources().then(\n      app\n        .request({\n          url: `https://nominatim.openstreetmap.org/search`,\n          method: 'GET',\n          params: {\n            q: this.ipInfo.zipCode(),\n            countrycodes: this.ipInfo.countryCode(),\n            limit: 1,\n            format: 'json',\n          },\n        })\n        .then((data) => {\n          this.data = data[0];\n          this.loading = false;\n\n          m.redraw();\n        })\n    );\n  }\n\n  searchLatLon() {\n    if (this.loading) return;\n\n    this.loading = true;\n\n    return addResources().then(\n      app\n        .request({\n          url: `https://nominatim.openstreetmap.org/reverse`,\n          method: 'GET',\n          params: {\n            lat: this.ipInfo.latitude(),\n            lon: this.ipInfo.longitude(),\n            format: 'json',\n          },\n        })\n        .then((data) => {\n          this.data = data;\n          this.loading = false;\n\n          m.redraw();\n        })\n    );\n  }\n\n  configMap(vnode) {\n    if (!this.data) return;\n\n    const { boundingbox: bounding, display_name: displayName } = this.data;\n\n    this.map = L.map(vnode.dom).setView([51.505, -0.09], 5);\n\n    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    }).addTo(this.map);\n\n    L.marker([bounding[0], bounding[2]]).addTo(this.map).bindPopup(displayName).openPopup();\n  }\n}\n","import Extend from 'flarum/common/extenders';\nimport IPInfo from './models/IPInfo';\nimport Post from 'flarum/common/models/Post';\n\nexport default [\n  new Extend.Store() //\n    .add('ip_info', IPInfo),\n\n  new Extend.Model(Post) //\n    .hasOne('ip_info'),\n];\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport AccessTokensList from 'flarum/forum/components/AccessTokensList';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport MapModal from '../components/MapModal';\nimport Button from 'flarum/common/components/Button';\nimport type Mithril from 'mithril';\nimport AccessToken from 'flarum/common/models/AccessToken';\n\nexport default function extendAccessTokensList() {\n  extend(AccessTokensList.prototype, 'tokenActionItems', function (items: ItemList<Mithril.Children>, token: AccessToken) {\n    const ipAddr = token.lastIpAddress();\n\n    if (ipAddr) {\n      items.add(\n        'geoip-info',\n        <Button\n          className=\"Button\"\n          onclick={() => app.modal.show(MapModal, { ipAddr: ipAddr })}\n          aria-label={app.translator.trans('fof-geoip.forum.map_button_label')}\n        >\n          {app.translator.trans('fof-geoip.forum.map_button_label')}\n        </Button>,\n        10\n      );\n    }\n  });\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport ZipCodeMap from '../components/ZipCodeMap';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport { getIPData } from '../helpers/IPDataHelper';\nimport { handleCopyIP } from '../helpers/ClipboardHelper';\n\nexport default function extendBanIPModal() {\n  const BanIPModal = flarum.core.compat['fof/ban-ips/components/BanIPModal'];\n\n  if (BanIPModal) {\n    extend(BanIPModal.prototype, 'content', function (vdom) {\n      if (!this.post || !this.post.ipAddress()) return;\n\n      const ipInfo = this.post.ip_info();\n      const formGroup = vdom.children.find((e) => e?.attrs?.className?.includes('Form-group') && e.children?.find?.((e) => e.tag === 'div'));\n\n      if (!ipInfo || !formGroup) return;\n\n      for (const child of formGroup.children) {\n        const label = child.children.find((e) => e?.tag === 'label');\n        const code = label && label.children.find((e) => e?.tag === 'code');\n\n        const codeIndex = code && label.children.indexOf(code);\n        if (!code) continue;\n\n        const { description, threat, image } = getIPData(ipInfo);\n\n        if (!code.attrs) code.attrs = {};\n        code.attrs['data-threat-level'] = ipInfo.threatLevel();\n\n        code.children[1] = (\n          <Tooltip text={description + (!!threat ? ` (${threat})` : '')}>\n            <span>{code.children[1]}</span>\n          </Tooltip>\n        );\n\n        if (image) {\n          label.children.splice(codeIndex, 0, image);\n        }\n      }\n\n      if (ipInfo.zipCode() && ipInfo.countryCode()) {\n        vdom.children.splice(\n          2,\n          0,\n          <div className=\"Form-group\">\n            <ZipCodeMap zip={ipInfo.zipCode()} country={ipInfo.countryCode()} />\n          </div>\n        );\n      }\n    });\n  }\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport PostMeta from 'flarum/common/components/PostMeta';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport { getIPData } from '../helpers/IPDataHelper';\nimport { handleCopyIP } from '../helpers/ClipboardHelper';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Button from 'flarum/common/components/Button';\nimport MapModal from '../components/MapModal';\n\nexport default function extendPostMeta() {\n  extend(PostMeta.prototype, 'view', function (vdom) {\n    const post = this.attrs.post;\n\n    // Exit early if there's no post\n    if (!post) return;\n\n    const ipInformation = post.ip_info();\n\n    // Exit early if there's no IP information for the post\n    if (!ipInformation) return;\n\n    // Extract dropdown from the VDOM\n    const menuDropdown = vdom.children.find((e) => e.attrs?.className?.includes('dropdown-menu'));\n\n    // Extract IP element for modification\n    const ipElement = menuDropdown.children.find((e) => e.tag === 'span' && e.attrs?.className === 'PostMeta-ip');\n\n    // Clear any default text from the IP element\n    delete ipElement.text;\n\n    // Construct the IP element with the tooltip and interactive behavior\n    ipElement.children = [<div className=\"ip-container\">{this.ipItems().toArray()}</div>];\n\n    // If there's a threat level, add it as a data attribute for potential styling\n    // TODO: move this to an Item?\n    if (ipInformation.threatLevel) {\n      ipElement.attrs['data-threat-level'] = ipInformation.threatLevel();\n    }\n  });\n\n  PostMeta.prototype.ipItems = function () {\n    const items = new ItemList();\n    const post = this.attrs.post;\n    const ipInformation = post.ip_info();\n    const ipAddr = post.data.attributes.ipAddress;\n\n    if (ipInformation && ipAddr) {\n      const { description, threat, image, zip, country } = getIPData(ipInformation);\n\n      items.add(\n        'ipInfo',\n        <div className=\"ip-info\">\n          {image}\n          <Tooltip text={`${description} ${threat ? `(${threat})` : ''}`}>\n            <span onclick={handleCopyIP(ipAddr)}>{ipAddr}</span>\n          </Tooltip>\n        </div>,\n        100\n      );\n\n      if (zip && country) {\n        items.add(\n          'mapButton',\n          <Tooltip text={app.translator.trans('fof-geoip.forum.map_button_label')}>\n            <Button\n              icon=\"fas fa-map-marker-alt\"\n              className=\"Button Button--icon Button--link\"\n              onclick={() => app.modal.show(MapModal, { ipInfo: ipInformation, ipAddr: ipAddr })}\n              aria-label={app.translator.trans('fof-geoip.forum.map_button_label')}\n            />\n          </Tooltip>,\n          90\n        );\n      }\n    }\n\n    return items;\n  };\n}\n","import app from 'flarum/forum/app';\nimport copyToClipboard from '../util/copyToClipboard';\n\nexport const handleCopyIP = (ip: string) => {\n  return () => {\n    copyToClipboard(ip);\n    app.alerts.show({ type: 'success' }, app.translator.trans('fof-geoip.forum.alerts.ip_copied'));\n  };\n};\n","import IPInfo from '../models/IPInfo';\nimport getFlagEmojiUrl from '../util/getFlagEmojiUrl';\nimport Tooltip from 'flarum/common/components/Tooltip';\n\nexport const getDescription = (ipInfo: IPInfo) => {\n  return ipInfo.organization() || ipInfo.isp() || ipInfo.error() || '';\n};\n\nexport const getThreat = (ipInfo: IPInfo) => {\n  return ipInfo.threatTypes() && ipInfo.threatTypes().join(', ');\n};\n\nexport const getFlagImage = (ipInfo: IPInfo) => {\n  if (ipInfo.countryCode()) {\n    const url = getFlagEmojiUrl(ipInfo.countryCode());\n    if (url) {\n      return (\n        <Tooltip text={ipInfo.countryCode()}>\n          <img src={url} alt={ipInfo.countryCode()} height=\"16\" loading=\"lazy\" />\n        </Tooltip>\n      );\n    }\n  }\n  return null;\n};\n\nexport const getIPData = (ipInfo: IPInfo) => {\n  const description = getDescription(ipInfo);\n  const threat = getThreat(ipInfo);\n  const image = getFlagImage(ipInfo);\n\n  // Extracting zip and country from ipInfo\n  const zip = ipInfo.zipCode();\n  const country = ipInfo.countryCode(); // Assuming the country code is used as 'country'\n\n  return { description, threat, image, zip, country };\n};\n","import app from 'flarum/forum/app';\nimport extendPostMeta from './extenders/extendPostMeta';\nimport extendBanIPModal from './extenders/extendBanIPModal';\nimport extendAccessTokensList from './extenders/extendAccessTokensList';\n\nexport { default as extend } from './extend';\n\napp.initializers.add('fof/geoip', () => {\n  extendPostMeta();\n  extendBanIPModal();\n  extendAccessTokensList();\n});\n","import Model from 'flarum/common/Model';\n\nexport default class IPInfo extends Model {\n  id() {\n    return Model.attribute<string>('id').call(this);\n  }\n\n  countryCode() {\n    return Model.attribute<string>('countryCode').call(this);\n  }\n\n  zipCode() {\n    return Model.attribute<string>('zipCode').call(this);\n  }\n\n  latitude() {\n    return Model.attribute<number>('latitude').call(this);\n  }\n\n  longitude() {\n    return Model.attribute<number>('longitude').call(this);\n  }\n\n  isp() {\n    return Model.attribute<string>('isp').call(this);\n  }\n\n  organization() {\n    return Model.attribute<string>('organization').call(this);\n  }\n\n  as() {\n    return Model.attribute<string>('as').call(this);\n  }\n\n  mobile() {\n    return Model.attribute<boolean>('mobile').call(this);\n  }\n\n  threatLevel() {\n    return Model.attribute<string>('threatLevel').call(this);\n  }\n\n  threatTypes() {\n    const raw = Model.attribute<string>('threatTypes').call(this);\n    try {\n      return JSON.parse(raw);\n    } catch (error) {\n      return [];\n    }\n  }\n\n  error() {\n    return Model.attribute<string>('error').call(this);\n  }\n\n  dataProvider() {\n    return Model.attribute<string>('dataProvider').call(this);\n  }\n\n  createdAt() {\n    return Model.attribute('createdAt', Model.transformDate).call(this);\n  }\n\n  updatedAt() {\n    return Model.attribute('updatedAt', Model.transformDate).call(this);\n  }\n}\n","export default (str: string): void => {\n  if (navigator.clipboard) {\n    navigator.clipboard.writeText(str).then(() => {});\n    return;\n  }\n\n  // Fallback method:\n  const el: HTMLTextAreaElement = document.createElement('textarea');\n  el.value = str;\n  el.setAttribute('readonly', '');\n  el.style.position = 'absolute';\n  el.style.left = '-9999px';\n  document.body.appendChild(el);\n\n  const selection = document.getSelection();\n  const selected: Range | null = selection && selection.rangeCount > 0 ? selection.getRangeAt(0) : null;\n\n  el.select();\n  document.execCommand('copy');\n  document.body.removeChild(el);\n\n  if (selected && selection) {\n    selection.removeAllRanges();\n    selection.addRange(selected);\n  }\n};\n","import flag from 'country-code-emoji';\nimport convert from 'twemoji-basename';\n\nexport default (countryCode) => {\n  const codepoint = flag(countryCode);\n  if (!codepoint) return null;\n\n  const basename = convert(codepoint);\n  return basename ? `https://cdn.jsdelivr.net/gh/twitter/twemoji@14/assets/72x72/${basename}.png` : null;\n};\n","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/LabelValue'];","module.exports = flarum.core.compat['common/components/LoadingIndicator'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/components/PostMeta'];","module.exports = flarum.core.compat['common/components/Tooltip'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/extenders'];","module.exports = flarum.core.compat['common/models/Post'];","module.exports = flarum.core.compat['common/utils/ItemList'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/AccessTokensList'];","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from './src/forum';\n"],"names":["module","exports","require","CC_REGEX","OFFSET","countryCodeEmoji","cc","test","type","TypeError","chars","_toConsumableArray","toUpperCase","map","c","charCodeAt","String","fromCodePoint","_load","tag","url","Promise","resolve","reject","element","document","createElement","parent","attr","onload","onerror","async","rel","appendChild","css","js","img","runtime","Op","Object","prototype","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","record","result","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","_catch","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","str","r","p","l","toString","join","app","Modal","ZipCodeMap","handleCopyIP","LabelValue","LoadingIndicator","MapModal","_Modal","_inheritsLoose","_this","_len","arguments","args","Array","_key","apply","concat","ipInfo","_proto","oninit","vnode","attrs","loadIpInfo","className","_this2","store","find","encodeURIComponent","ipAddr","m","redraw","console","title","translator","trans","content","label","onclick","countryCode","zipCode","isp","organization","as","mobile","threatLevel","threatTypes","id","default","Component","load","addedResources","addResources","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_callee$","_context","_Component","data","searchZip","searchLatLon","view","loading","size","oncreate","configMap","bind","request","params","q","countrycodes","limit","format","lat","latitude","lon","longitude","_this$data","bounding","boundingbox","display_name","L","dom","setView","tileLayer","attribution","addTo","marker","bindPopup","openPopup","Extend","IPInfo","Post","Store","add","Model","hasOne","extend","AccessTokensList","Button","extendAccessTokensList","items","token","lastIpAddress","modal","show","Tooltip","getIPData","extendBanIPModal","BanIPModal","flarum","core","compat","vdom","post","ipAddress","ip_info","formGroup","children","e","_e$attrs","_e$attrs$className","_e$children","includes","_iterator","_createForOfIteratorHelperLoose","_step","child","code","codeIndex","indexOf","_getIPData","description","threat","image","text","splice","zip","country","PostMeta","ItemList","extendPostMeta","ipInformation","menuDropdown","ipElement","_e$attrs2","ipItems","toArray","attributes","icon","copyToClipboard","ip","alerts","getFlagEmojiUrl","getDescription","getThreat","getFlagImage","src","alt","height","initializers","_Model","attribute","raw","JSON","parse","dataProvider","createdAt","transformDate","updatedAt","navigator","clipboard","writeText","el","setAttribute","style","position","left","body","selection","getSelection","selected","rangeCount","getRangeAt","select","execCommand","removeChild","removeAllRanges","addRange","flag","convert","codepoint","basename","asyncGeneratorStep","gen","_next","_throw","subClass","superClass","_setPrototypeOf","o"],"sourceRoot":""}